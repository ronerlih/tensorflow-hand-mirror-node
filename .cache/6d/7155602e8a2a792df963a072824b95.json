{"id":"NRSh","dependencies":[{"name":"/Users/ronerlih/development/tensorflow-hand-mirror-node/.babelrc","includedInParent":true,"mtime":1599428702971},{"name":"/Users/ronerlih/development/tensorflow-hand-mirror-node/package.json","includedInParent":true,"mtime":1599509938719},{"name":"./fingers","loc":{"line":1,"column":34},"parent":"/Users/ronerlih/development/tensorflow-hand-mirror-node/utils/drawCloud.js","resolved":"/Users/ronerlih/development/tensorflow-hand-mirror-node/utils/fingers.js"},{"name":"./video","loc":{"line":2,"column":41},"parent":"/Users/ronerlih/development/tensorflow-hand-mirror-node/utils/drawCloud.js","resolved":"/Users/ronerlih/development/tensorflow-hand-mirror-node/utils/video.js"}],"generated":{"js":"\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.drawPointCloud=s;var e=require(\"./fingers\"),t=require(\"./video\");let r=!1;function s(s,i){const n=[[0,0,0],[0,-t.VIDEO_HEIGHT,0],[-t.VIDEO_WIDTH,0,0],[-t.VIDEO_WIDTH,-t.VIDEO_HEIGHT,0]],o=s.map(e=>[-e[0],-e[1],-e[2]]),u=new ScatterGL.Dataset([...o,...n]);if(r)i.updateDataset(u);else{i.render(u);const t=Object.keys(e.fingerLookupIndices);i.setSequences(t.map(t=>({indices:e.fingerLookupIndices[t]}))),i.setPointColorer(e=>e<o.length?\"steelblue\":\"white\")}r=!0}"},"sourceMaps":{"js":{"mappings":[{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":0}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":13}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":20}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":35}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":43}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":56}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":57}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":64}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":68}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":76}},{"source":"utils/drawCloud.js","original":{"line":33,"column":1},"generated":{"line":1,"column":91}},{"source":"utils/drawCloud.js","original":{"line":1,"column":0},"generated":{"line":1,"column":93}},{"source":"utils/drawCloud.js","original":{"line":1,"column":0},"generated":{"line":1,"column":97}},{"source":"utils/drawCloud.js","original":{"line":1,"column":0},"generated":{"line":1,"column":99}},{"source":"utils/drawCloud.js","original":{"line":1,"column":0},"generated":{"line":1,"column":107}},{"source":"utils/drawCloud.js","original":{"line":2,"column":0},"generated":{"line":1,"column":120}},{"source":"utils/drawCloud.js","original":{"line":2,"column":0},"generated":{"line":1,"column":122}},{"source":"utils/drawCloud.js","original":{"line":2,"column":0},"generated":{"line":1,"column":130}},{"source":"utils/drawCloud.js","original":{"line":4,"column":0},"generated":{"line":1,"column":141}},{"source":"utils/drawCloud.js","name":"scatterGLHasInitialized","original":{"line":4,"column":4},"generated":{"line":1,"column":145}},{"source":"utils/drawCloud.js","original":{"line":4,"column":30},"generated":{"line":1,"column":148}},{"source":"utils/drawCloud.js","original":{"line":6,"column":7},"generated":{"line":1,"column":150}},{"source":"utils/drawCloud.js","name":"drawPointCloud","original":{"line":6,"column":16},"generated":{"line":1,"column":159}},{"source":"utils/drawCloud.js","name":"result","original":{"line":6,"column":31},"generated":{"line":1,"column":161}},{"source":"utils/drawCloud.js","name":"scatterGL","original":{"line":6,"column":39},"generated":{"line":1,"column":163}},{"source":"utils/drawCloud.js","name":"ANCHOR_POINTS","original":{"line":8,"column":8},"generated":{"line":1,"column":166}},{"source":"utils/drawCloud.js","name":"ANCHOR_POINTS","original":{"line":8,"column":8},"generated":{"line":1,"column":172}},{"source":"utils/drawCloud.js","original":{"line":8,"column":24},"generated":{"line":1,"column":174}},{"source":"utils/drawCloud.js","original":{"line":8,"column":25},"generated":{"line":1,"column":175}},{"source":"utils/drawCloud.js","original":{"line":8,"column":26},"generated":{"line":1,"column":176}},{"source":"utils/drawCloud.js","original":{"line":8,"column":29},"generated":{"line":1,"column":178}},{"source":"utils/drawCloud.js","original":{"line":8,"column":32},"generated":{"line":1,"column":180}},{"source":"utils/drawCloud.js","original":{"line":8,"column":36},"generated":{"line":1,"column":183}},{"source":"utils/drawCloud.js","original":{"line":8,"column":37},"generated":{"line":1,"column":184}},{"source":"utils/drawCloud.js","name":"VIDEO_HEIGHT","original":{"line":8,"column":41},"generated":{"line":1,"column":187}},{"source":"utils/drawCloud.js","original":{"line":8,"column":36},"generated":{"line":1,"column":189}},{"source":"utils/drawCloud.js","original":{"line":8,"column":55},"generated":{"line":1,"column":202}},{"source":"utils/drawCloud.js","original":{"line":9,"column":2},"generated":{"line":1,"column":205}},{"source":"utils/drawCloud.js","name":"VIDEO_WIDTH","original":{"line":9,"column":4},"generated":{"line":1,"column":207}},{"source":"utils/drawCloud.js","original":{"line":9,"column":2},"generated":{"line":1,"column":209}},{"source":"utils/drawCloud.js","original":{"line":9,"column":17},"generated":{"line":1,"column":221}},{"source":"utils/drawCloud.js","original":{"line":9,"column":20},"generated":{"line":1,"column":223}},{"source":"utils/drawCloud.js","original":{"line":9,"column":24},"generated":{"line":1,"column":226}},{"source":"utils/drawCloud.js","name":"VIDEO_WIDTH","original":{"line":9,"column":26},"generated":{"line":1,"column":228}},{"source":"utils/drawCloud.js","original":{"line":9,"column":24},"generated":{"line":1,"column":230}},{"source":"utils/drawCloud.js","name":"VIDEO_HEIGHT","original":{"line":9,"column":40},"generated":{"line":1,"column":243}},{"source":"utils/drawCloud.js","original":{"line":9,"column":24},"generated":{"line":1,"column":245}},{"source":"utils/drawCloud.js","original":{"line":9,"column":54},"generated":{"line":1,"column":258}},{"source":"utils/drawCloud.js","name":"pointsData","original":{"line":11,"column":8},"generated":{"line":1,"column":262}},{"source":"utils/drawCloud.js","name":"result","original":{"line":11,"column":21},"generated":{"line":1,"column":264}},{"source":"utils/drawCloud.js","name":"map","original":{"line":11,"column":28},"generated":{"line":1,"column":266}},{"source":"utils/drawCloud.js","name":"point","original":{"line":11,"column":32},"generated":{"line":1,"column":270}},{"source":"utils/drawCloud.js","original":{"line":12,"column":11},"generated":{"line":1,"column":273}},{"source":"utils/drawCloud.js","name":"point","original":{"line":12,"column":13},"generated":{"line":1,"column":275}},{"source":"utils/drawCloud.js","original":{"line":12,"column":19},"generated":{"line":1,"column":277}},{"source":"utils/drawCloud.js","name":"point","original":{"line":12,"column":24},"generated":{"line":1,"column":281}},{"source":"utils/drawCloud.js","original":{"line":12,"column":30},"generated":{"line":1,"column":283}},{"source":"utils/drawCloud.js","name":"point","original":{"line":12,"column":35},"generated":{"line":1,"column":287}},{"source":"utils/drawCloud.js","original":{"line":12,"column":41},"generated":{"line":1,"column":289}},{"source":"utils/drawCloud.js","name":"dataset","original":{"line":15,"column":8},"generated":{"line":1,"column":294}},{"source":"utils/drawCloud.js","original":{"line":15,"column":18},"generated":{"line":1,"column":296}},{"source":"utils/drawCloud.js","name":"ScatterGL","original":{"line":15,"column":22},"generated":{"line":1,"column":300}},{"source":"utils/drawCloud.js","name":"Dataset","original":{"line":15,"column":32},"generated":{"line":1,"column":310}},{"source":"utils/drawCloud.js","original":{"line":15,"column":40},"generated":{"line":1,"column":318}},{"source":"utils/drawCloud.js","name":"pointsData","original":{"line":15,"column":44},"generated":{"line":1,"column":322}},{"source":"utils/drawCloud.js","name":"ANCHOR_POINTS","original":{"line":15,"column":59},"generated":{"line":1,"column":327}},{"source":"utils/drawCloud.js","original":{"line":17,"column":6},"generated":{"line":1,"column":331}},{"source":"utils/drawCloud.js","name":"scatterGLHasInitialized","original":{"line":17,"column":7},"generated":{"line":1,"column":334}},{"source":"utils/drawCloud.js","name":"scatterGL","original":{"line":30,"column":4},"generated":{"line":1,"column":336}},{"source":"utils/drawCloud.js","name":"updateDataset","original":{"line":30,"column":14},"generated":{"line":1,"column":338}},{"source":"utils/drawCloud.js","name":"dataset","original":{"line":30,"column":28},"generated":{"line":1,"column":352}},{"source":"utils/drawCloud.js","original":{"line":17,"column":32},"generated":{"line":1,"column":359}},{"source":"utils/drawCloud.js","name":"scatterGL","original":{"line":18,"column":4},"generated":{"line":1,"column":360}},{"source":"utils/drawCloud.js","name":"render","original":{"line":18,"column":14},"generated":{"line":1,"column":362}},{"source":"utils/drawCloud.js","name":"dataset","original":{"line":18,"column":21},"generated":{"line":1,"column":369}},{"source":"utils/drawCloud.js","name":"fingers","original":{"line":20,"column":10},"generated":{"line":1,"column":372}},{"source":"utils/drawCloud.js","name":"fingers","original":{"line":20,"column":10},"generated":{"line":1,"column":378}},{"source":"utils/drawCloud.js","name":"Object","original":{"line":20,"column":20},"generated":{"line":1,"column":380}},{"source":"utils/drawCloud.js","name":"keys","original":{"line":20,"column":27},"generated":{"line":1,"column":387}},{"source":"utils/drawCloud.js","name":"fingerLookupIndices","original":{"line":20,"column":32},"generated":{"line":1,"column":392}},{"source":"utils/drawCloud.js","original":{"line":20,"column":20},"generated":{"line":1,"column":394}},{"source":"utils/drawCloud.js","name":"scatterGL","original":{"line":22,"column":4},"generated":{"line":1,"column":415}},{"source":"utils/drawCloud.js","name":"setSequences","original":{"line":22,"column":14},"generated":{"line":1,"column":417}},{"source":"utils/drawCloud.js","name":"fingers","original":{"line":22,"column":27},"generated":{"line":1,"column":430}},{"source":"utils/drawCloud.js","name":"map","original":{"line":22,"column":35},"generated":{"line":1,"column":432}},{"source":"utils/drawCloud.js","name":"finger","original":{"line":22,"column":39},"generated":{"line":1,"column":436}},{"source":"utils/drawCloud.js","original":{"line":22,"column":50},"generated":{"line":1,"column":440}},{"source":"utils/drawCloud.js","name":"indices","original":{"line":22,"column":52},"generated":{"line":1,"column":441}},{"source":"utils/drawCloud.js","name":"fingerLookupIndices","original":{"line":22,"column":61},"generated":{"line":1,"column":449}},{"source":"utils/drawCloud.js","name":"finger","original":{"line":22,"column":81},"generated":{"line":1,"column":451}},{"source":"utils/drawCloud.js","name":"finger","original":{"line":22,"column":81},"generated":{"line":1,"column":471}},{"source":"utils/drawCloud.js","name":"scatterGL","original":{"line":23,"column":4},"generated":{"line":1,"column":478}},{"source":"utils/drawCloud.js","name":"setPointColorer","original":{"line":23,"column":14},"generated":{"line":1,"column":480}},{"source":"utils/drawCloud.js","name":"index","original":{"line":23,"column":31},"generated":{"line":1,"column":496}},{"source":"utils/drawCloud.js","name":"index","original":{"line":24,"column":10},"generated":{"line":1,"column":499}},{"source":"utils/drawCloud.js","name":"pointsData","original":{"line":24,"column":18},"generated":{"line":1,"column":501}},{"source":"utils/drawCloud.js","name":"length","original":{"line":24,"column":29},"generated":{"line":1,"column":503}},{"source":"utils/drawCloud.js","original":{"line":25,"column":15},"generated":{"line":1,"column":510}},{"source":"utils/drawCloud.js","original":{"line":27,"column":13},"generated":{"line":1,"column":522}},{"source":"utils/drawCloud.js","name":"scatterGLHasInitialized","original":{"line":32,"column":2},"generated":{"line":1,"column":531}},{"source":"utils/drawCloud.js","original":{"line":32,"column":28},"generated":{"line":1,"column":534}}],"sources":{"utils/drawCloud.js":"import {fingerLookupIndices} from './fingers';\nimport { VIDEO_WIDTH, VIDEO_HEIGHT} from './video';\n\nlet scatterGLHasInitialized = false;\n\nexport function drawPointCloud(result, scatterGL) {\n\n  const ANCHOR_POINTS = [[0, 0, 0], [0, -VIDEO_HEIGHT, 0],\n  [-VIDEO_WIDTH, 0, 0], [-VIDEO_WIDTH, -VIDEO_HEIGHT, 0]];\n\n  const pointsData = result.map(point => {\n    return [-point[0], -point[1], -point[2]];\n  });\n\n  const dataset = new ScatterGL.Dataset([...pointsData, ...ANCHOR_POINTS]);\n\n  if (!scatterGLHasInitialized) {\n    scatterGL.render(dataset);\n\n    const fingers = Object.keys(fingerLookupIndices);\n\n    scatterGL.setSequences(fingers.map(finger => ({ indices: fingerLookupIndices[finger] })));\n    scatterGL.setPointColorer((index) => {\n      if (index < pointsData.length) {\n        return 'steelblue';\n      }\n      return 'white'; // Hide.\n    });\n  } else {\n    scatterGL.updateDataset(dataset);\n  }\n  scatterGLHasInitialized = true;\n}"},"lineCount":null}},"error":null,"hash":"2bf1da1b352ed0e87663541c31627e37","cacheData":{"env":{}}}